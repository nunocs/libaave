\hypertarget{reverb_8c}{\section{reverb.\-c File Reference}
\label{reverb_8c}\index{reverb.\-c@{reverb.\-c}}
}
{\ttfamily \#include \char`\"{}aave.\-h\char`\"{}}\\*
Include dependency graph for reverb.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=132pt]{reverb_8c__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{reverb_8c_af3e8d6e1f8cb5df509915adc8660e358}{aave\-\_\-reverb} (struct \hyperlink{structaave}{aave} $\ast$\hyperlink{structaave}{aave}, short $\ast$audio, unsigned n)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static const int \hyperlink{reverb_8c_a6bc3d585c7654e35bd2d9f2f8e46484b}{predelay} \mbox{[}2\mbox{]} = \{ 32749, 32603 \}
\item 
static const int \hyperlink{reverb_8c_a365880321f626ae9b49f6fcdc924a820}{delay} \mbox{[}2\mbox{]} = \{ 983, 1021 \}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The \hyperlink{reverb_8c}{reverb.\-c} file implements an artificial reverberation tail that is added to the output of the auralisation generated by the \hyperlink{audio_8c}{audio.\-c} part of the auralisation process, to simulate the late reflections that the \hyperlink{geometry_8c}{geometry.\-c} part of the auralisation process could not determine in time.

The reverb algorithm currently implemented is the simplest binaural feedback delay network, with the customary recursive comb filter, and is illustrated in the image below. References\-: Udo Zolzer, \char`\"{}\-Digital Audio
\-Signal Processing\char`\"{}, 2nd Edition, Section 6.\-3.\-1 Schroeder Algorithm.


\begin{DoxyImage}
\includegraphics[width=\textwidth]{reverb}
\caption{Late reflection reverb block diagram}
\end{DoxyImage}


\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000012}{Todo}]Improve the artificial late reflection reverberator. \end{DoxyRefDesc}


\subsection{Function Documentation}
\hypertarget{reverb_8c_af3e8d6e1f8cb5df509915adc8660e358}{\index{reverb.\-c@{reverb.\-c}!aave\-\_\-reverb@{aave\-\_\-reverb}}
\index{aave\-\_\-reverb@{aave\-\_\-reverb}!reverb.c@{reverb.\-c}}
\subsubsection[{aave\-\_\-reverb}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf aave\-\_\-reverb} (
\begin{DoxyParamCaption}
\item[{struct {\bf aave} $\ast$}]{aave, }
\item[{short $\ast$}]{audio, }
\item[{unsigned}]{n}
\end{DoxyParamCaption}
)}}\label{reverb_8c_af3e8d6e1f8cb5df509915adc8660e358}
Add an artificial reverberation tail to the {\ttfamily n} binaural frames (2 $\ast$ {\ttfamily n} samples) pointed by {\ttfamily audio}. 

\subsection{Variable Documentation}
\hypertarget{reverb_8c_a365880321f626ae9b49f6fcdc924a820}{\index{reverb.\-c@{reverb.\-c}!delay@{delay}}
\index{delay@{delay}!reverb.c@{reverb.\-c}}
\subsubsection[{delay}]{\setlength{\rightskip}{0pt plus 5cm}const int {\bf delay}\mbox{[}2\mbox{]} = \{ 983, 1021 \}\hspace{0.3cm}{\ttfamily [static]}}}\label{reverb_8c_a365880321f626ae9b49f6fcdc924a820}
Feedback (comb filter) delay \{ left, right \} in number of samples (prime numbers work best)\-: about 23 ms at 44100\-Hz. \hypertarget{reverb_8c_a6bc3d585c7654e35bd2d9f2f8e46484b}{\index{reverb.\-c@{reverb.\-c}!predelay@{predelay}}
\index{predelay@{predelay}!reverb.c@{reverb.\-c}}
\subsubsection[{predelay}]{\setlength{\rightskip}{0pt plus 5cm}const int predelay\mbox{[}2\mbox{]} = \{ 32749, 32603 \}\hspace{0.3cm}{\ttfamily [static]}}}\label{reverb_8c_a6bc3d585c7654e35bd2d9f2f8e46484b}
Pre-\/delay \{ left, right \} in number of samples (prime numbers work best)\-: about 743 ms at 44100\-Hz. 